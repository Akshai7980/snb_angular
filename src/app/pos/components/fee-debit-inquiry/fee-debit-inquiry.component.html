<div class="outerContainer">
  <div class="subTitles" translate>LBL_FEE_DEBIT_INQUIRY</div>
  <div class="merchantDetails">
    <div class="subTitles" translate>LBL_MERCHANT_DETAILS</div>
    <!-- Account -->

    <div class="detailContainer">
      <div class="accountDetails">
        <div class="subTitles" translate>LBL_ACCOUNT</div>
        <table>
          <tr class="tableHeader">
            <th translate>LBL_ACC_NUMBER</th>
            <th translate>LBL_NICK_NAME</th>
            <th translate>LBL_FULL_NAME</th>
            <th translate>LBL_STATUS</th>
            <th translate>LBL_BALANCE</th>
          </tr>
          <ng-container>
            <tr
              class="tableRowConatiner"
              *ngFor="
                let data of this.rootScopeData.posTransactionMerchantDetail
                  .account
              "
            >
              <td>{{ data.OD_ACC_NO ? data.OD_ACC_NO : "--" }}</td>
              <td>{{ data.ALIAS_NAME ? data.ALIAS_NAME : "--" }}</td>
              <td>{{ data.OD_ACC_NAME ? data.OD_ACC_NAME : "--" }}</td>
              <td>{{ data.STATUS ? data.STATUS : "--" }}</td>
              <td>
                {{
                  data?.CURR_AVAIL_BAL_AMT && data?.OD_CCY_CODE
                    ? (data?.CURR_AVAIL_BAL_AMT
                        | currencyFormat : data.OD_CCY_CODE) +
                      " " +
                      data.OD_CCY_CODE
                    : "--"
                }}
              </td>
              <td>
                <div
                  class="downArrowAcc"
                  (click)="cancelMerchantDetail()"
                ></div>
              </td>
            </tr>
          </ng-container>
        </table>
      </div>
    </div>
    <!-- Account end -->
    <!-- merchant -->
    <div class="detailContainer">
      <div class="accountDetails">
        <table>
          <tr class="tableHeader">
            <th translate>LBL_MERCHANT_NAME</th>
            <th translate>LBL_MERCHANT_NAME_ARABIC</th>
            <th translate>LBL_MERCHANT_NUMBER</th>
            <th translate>LBL_STATUS</th>
            <th translate>LBL_SHOP_NAME</th>
          </tr>
          <ng-container>
            <tr
              class="tableRowConatiner"
              *ngFor="
                let data of this.rootScopeData.posTransactionMerchantDetail
                  .merchant
              "
            >
              <td>
                {{
                  data.merchantNameInEnglish ? data.merchantNameInEnglish : "--"
                }}
              </td>
              <td>
                {{
                  data.merchantNameInArabic ? data.merchantNameInArabic : "--"
                }}
              </td>
              <td>{{ data.merchantNumber ? data.merchantNumber : "--" }}</td>
              <td>{{ data.status ? data.status : "--" }}</td>
              <td>
                {{ data.shopEnglishName ? data.shopEnglishName : "--" }}
              </td>
              <td>
                <div
                  class="downArrowAcc"
                  (click)="cancelMerchantDetail()"
                ></div>
              </td>
            </tr>
          </ng-container>
        </table>
      </div>
    </div>
    <!-- MERCHANT END -->
    <!-- TERMINAL -->
    <div class="detailContainer">
      <div class="accountDetails">
        <table>
          <tr class="tableHeader">
            <th translate>LBL_TERMINAL_ID</th>
            <th translate>LBL_TERMINAL_TYPE</th>
            <th translate>LBL_STATUS</th>
            <th translate>LBL_SHOP_NAME</th>
          </tr>
          <ng-container>
            <tr
              class="tableRowConatiner"
              *ngFor="
                let data of this.rootScopeData.posTransactionMerchantDetail
                  .terminal
              "
            >
              <td>{{ data.retailerId ? data.retailerId : "--" }}</td>
              <td>{{ data.retailerName ? data.retailerName : "--" }}</td>
              <td>{{ data.status ? data.status : "--" }}</td>
              <td>
                {{ data.retailerAddress ? data.retailerAddress : "--" }}
              </td>
              <td>
                <div
                  class="downArrowAcc"
                  (click)="cancelMerchantDetail()"
                ></div>
              </td>
            </tr>
          </ng-container>
        </table>
      </div>
    </div>
    <!-- terminal end  -->
  </div>
</div>

<!-- transaction details -->
<div class="outerContainer">
  <div class="merchantDetails">
    <div class="subTitles" translate>LBL_TRANSACTION_DETAILS</div>
    <div class="detailContainer">
      <div class="">
        <div class="accountDetails">
          <table>
            <tr class="tableHeader">
              <th translate>LBL_TERM_ID</th>
              <th translate>LBL_SEQUENCE</th>
              <th translate>LBL_CARD_TYPE</th>
              <th translate>LBL_CARD_NO</th>
              <th translate>LBL_DATE</th>
              <th translate>LBL_AMOUNT_SAR</th>
              <th></th>
            </tr>
            <ng-container>
              <tr class="tableRowConatiner">
                <td>
                  {{
                    this.rootScopeData.posSelectedTransaction.termianlId
                      ? this.rootScopeData.posSelectedTransaction.termianlId
                      : "--"
                  }}
                </td>
                <td>
                  {{
                    this.rootScopeData.posSelectedTransaction.sequenceNumber
                      ? this.rootScopeData.posSelectedTransaction.sequenceNumber
                      : "--"
                  }}
                </td>
                <td>
                  {{
                    this.rootScopeData.posSelectedTransaction.cardType
                      ? this.rootScopeData.posSelectedTransaction.cardType
                      : "--"
                  }}
                </td>
                <td>
                  {{
                    this.rootScopeData.posSelectedTransaction.maskedpan
                      ? (this.rootScopeData.posSelectedTransaction.maskedpan
                        | maskCardNumber)
                      : "--"
                  }}
                </td>
                <td>
                  {{
                    this.rootScopeData.posSelectedTransaction.transactionDate
                      ? (this.rootScopeData.posSelectedTransaction
                          .transactionDate | dateFormat)
                      : "--"
                  }}
                </td>
                <td>
                  {{
                    this.rootScopeData.posSelectedTransaction.transactionAmount
                      ? this.rootScopeData.posSelectedTransaction
                          .transactionAmount
                      : "--"
                  }}
                </td>
                <td>
                  <div
                    class="downArrowAcc"
                    (click)="returntoTransaction()"
                  ></div>
                </td>
              </tr>
            </ng-container>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="outerContainer">
  <div class="merchantDetails">
    <div class="subTitles" translate>LBL_REQUEST_DETAILS</div>
    <div class="detailContainer">
      <div class="detailsContainer">
        <div class="requestContainer">
          <div class="inputConatiner">
            <div class="geneStaTitles fieldTitles" translate>
              LBL_MOBILE_NUMBER <span class="errorMsg">*</span>
            </div>
            <input
              class="selectInput"
              (keypress)="allowNumbersOnly($event)"
              [(ngModel)]="mobileNumber"
              type="text"
            />
          </div>
          <div class="datefrom">
            <div translate class="geneStaTitles fieldTitles" id="proctm">
              LBL_DEDUCTION_DATE <span class="errorMsg">*</span>
            </div>
            <div>
              <app-date-picker
                [clearFlag]="clearFlag"
                class="dateErrorMsg"
                [showDateErrorMessage]="showDateErrorMessage"
                (dateValue)="getFromDate($event)"
                [maxDate]="maxDate"
                [minDate]="minDate"
              ></app-date-picker>
            </div>
          </div>
          <div class="descriptionContainer">
            <div class="geneStaTitles fieldTitles" translate>
              LBL_CLAIM_DESCRIPTION
            </div>
            <textarea class="textArea" [(ngModel)]="description"></textarea>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="btnGroup mtop_20">
  <app-tertiary-button
    buttonValue="LBL_CANCEL"
    *ngIf="mobileNumber || description || dateFrom"
    (click)="cancelButton($event)"
  >
  </app-tertiary-button>
  <app-primary-button
    buttonValue="LBL_PROCEED"
    *ngIf="mobileNumber && dateFrom"
    (click)="proceedButton($event)"
  >
  </app-primary-button>
</div>
