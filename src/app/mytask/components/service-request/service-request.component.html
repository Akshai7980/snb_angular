<div class="topspacing">
  <div class="mTop_18">
    <div class="actionsConatiner">
        <div class="leftPannel">
            <div class="searchCntnrLeft">
                <app-search [showAdvanceSearch]="false" (childEvent)="triggerSearchFilter($event)"></app-search>
            </div>
        </div>
        <div>
            <div>
                <app-refresh (onRefresh)="refreshSummary()"></app-refresh>
            </div>
        </div>
    </div>   

  <div *ngIf="!norecordflag" id="serviceRequestDefaultCntr">
<table  mat-table [dataSource]="dataSourceToPass" class="casaTable" *ngIf="responseHeader !== undefined">

  <ng-container matColumnDef="referenceNumber">
    <th mat-header-cell *matHeaderCellDef class="col-ref" (click)="sortColumn('ref_NO')"><div class="position_rel" translate>LBL_REFERENCE_NUMBER

      <span *ngIf="responseHeader.sortColumn !== undefined && responseHeader.sortColumn !== 'ref_NO'">
        <img src="assets/images/sortDown.svg" class="img-style" >
        <img src="assets/images/sortDown.svg" class="sortUp">
      </span>
      <span *ngIf="responseHeader.sortColumn !== undefined && responseHeader.sortColumn === 'ref_NO'">
        <img src="assets/images/sortDown.svg"
          *ngIf="responseHeader.sortOrder !== undefined && responseHeader.sortOrder === 'desc'" class="img-style">
        <img src="assets/images/sortDown.svg"
          *ngIf="responseHeader.sortOrder !== undefined && responseHeader.sortOrder === 'asc'"
          class="sortUpAscending">
      </span>

    </div> </th>
    <td mat-cell *matCellDef="let element" class="col-ref">{{element.ref_NO}}</td>
  </ng-container>


  <ng-container matColumnDef="requestType">
    <th mat-header-cell *matHeaderCellDef class="col-reqtype" (click)="sortColumn('function_ID_DISPVAL')"><div class="position_rel" translate>LBL_REQUEST_TYPE

      <span *ngIf="responseHeader.sortColumn !== undefined && responseHeader.sortColumn !== 'function_ID_DISPVAL'">
        <img src="assets/images/sortDown.svg" class="img-style" >
        <img src="assets/images/sortDown.svg" class="sortUp">
      </span>
      <span *ngIf="responseHeader.sortColumn !== undefined && responseHeader.sortColumn === 'function_ID_DISPVAL'">
        <img src="assets/images/sortDown.svg"
          *ngIf="responseHeader.sortOrder !== undefined && responseHeader.sortOrder === 'desc'" class="img-style">
        <img src="assets/images/sortDown.svg"
          *ngIf="responseHeader.sortOrder !== undefined && responseHeader.sortOrder === 'asc'"
          class="sortUpAscending">
      </span>

    </div> </th>
    <td mat-cell *matCellDef="let element" class="col-reqtype"> {{element.function_ID_DISPVAL}} </td>
  </ng-container>


  <ng-container matColumnDef="submittedOn">
    <th mat-header-cell *matHeaderCellDef class="col-sub" (click)="sortColumn('maker_DATE')"><div class="position_rel" translate> LBL_SUBMITTED_ON
      

      <span *ngIf="responseHeader.sortColumn !== undefined && responseHeader.sortColumn !== 'maker_DATE'">
        <img src="assets/images/sortDown.svg" class="img-style">
        <img src="assets/images/sortDown.svg" class="sortUp">
      </span>
      <span *ngIf="responseHeader.sortColumn !== undefined && responseHeader.sortColumn === 'maker_DATE'">
        <img src="assets/images/sortDown.svg"
          *ngIf="responseHeader.sortOrder !== undefined && responseHeader.sortOrder === 'desc'" class="img-style">
        <img src="assets/images/sortDown.svg"
          *ngIf="responseHeader.sortOrder !== undefined && responseHeader.sortOrder === 'asc'"
          class="sortUpAscending">
      </span>

    </div></th>
    <td mat-cell *matCellDef="let element" class="col-sub"> {{element.maker_DATE | dateFormat}} </td>
  </ng-container>

  <ng-container matColumnDef="makerId">
    <th mat-header-cell *matHeaderCellDef (click)="sortColumn('maker_NAME')"><div class="position_rel" translate>LBL_MKR_ID

      <span *ngIf="responseHeader.sortColumn !== undefined && responseHeader.sortColumn !== 'maker_NAME'">
        <img src="assets/images/sortDown.svg" class="img-style" >
        <img src="assets/images/sortDown.svg" class="sortUp" >
      </span>
      <span *ngIf="responseHeader.sortColumn !== undefined && responseHeader.sortColumn === 'maker_NAME'">
        <img src="assets/images/sortDown.svg"
          *ngIf="responseHeader.sortOrder !== undefined && responseHeader.sortOrder === 'desc'" class="img-style">
        <img src="assets/images/sortDown.svg"
          *ngIf="responseHeader.sortOrder !== undefined && responseHeader.sortOrder === 'asc'"
          class="sortUpAscending">
      </span>
    </div></th>
    <td mat-cell *matCellDef="let element"> {{element.maker_NAME}} </td>
  </ng-container>
 
  <ng-container matColumnDef="action">
    <th mat-header-cell *matHeaderCellDef translate>LBL_ACTION</th>
    <td mat-cell *matCellDef="let element"> <div class="acceptIcon" (click)="onApproveClick($event,element)"></div><div class="rejectIcon" (click)="onRejectClick($event,element)"></div></td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;" (click)="goToDetailsScreen(row)"></tr>
</table>
</div>
<div *ngIf="norecordflag">
<app-no-record-found [noRecordFoundInfo]="noRecordFoundInfoObj"></app-no-record-found>
</div>
<div *ngIf="enablePropertty">
  <app-pagination #paginator [dataSourceLength]="dataSourceLength" [currentRecord]="'ServeRequest'" [totalRecords]="totalRecords"  (onPaginationChange)="paginationChangeClick($event)" [flagForRefreshPage]="refreshClickedFlag" ></app-pagination>
</div>

</div> 
 <app-ajax-loader [hidden]="isLoadingCompelete"></app-ajax-loader>