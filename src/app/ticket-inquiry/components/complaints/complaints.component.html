<div class="mainContainer">
    <div>
        <div class="mainTitle"translate>LBL_TICKET_INQUIRY</div>
    </div>
    <div class="detailsDataCntr">
        <div class="subContainer" id="complaintsPrintSection">
            <div class="row" id="logoPrint">
                <div><img class="logo" src="assets/images/logo.png"> </div>
                <div><span class="logotext" translate>LBL_ECORP</span></div>
            </div>
            <div class="header-panel">
                <div class="titleIcons header-panel-left headerPanelWidth">
                    <div class="compIcon"></div>
                    <div class="subTitles" translate>LBL_COMPLAINTS</div>
                </div>
                <div class="actionConatinere header-panel-right headerPanelWidth">
                    <app-summary-tools *ngIf="!noRecordFlag" [printSection]="printSection" [filterFlag]="filterflag" [filterValues]="filterflag==='Y'? filterArray : ''"  [moduleId]="''"></app-summary-tools>
                </div>
            </div>
            <div class="mTop_18">
                <div class="actionsConatiner" *ngIf="!noRecordFlag">
                    <div class="leftPannel">
                        <div>
                            <app-selection></app-selection>
                        </div>
                        <div class="searchCntnrLeft">
                            <app-search (searchParams)="advancedSearchApply($event)" [showAdvanceSearch]="true" (childEvent)="triggerSearchFilter($event)"></app-search>
                        </div>
                    </div>
                    <div>
                        <div class="actionHide">
                            <app-refresh (click)="refreshSummary()"> </app-refresh>
                        </div>
                    </div>
                </div>
                <div *ngIf="!noRecordFlag">
                    <table id="complaintsList"  class="casaTable" mat-table [dataSource]="dataSourceToPass">
                        <ng-container matColumnDef="reqNo">
                            <th mat-header-cell *matHeaderCellDef (click)="sortColumn('reqNo')">
                                <div class="position_rel" translate>LBL_REQ_NUM
                                    <span *ngIf="responseHeader && responseHeader.sortColumn && responseHeader.sortColumn !== undefined && responseHeader.sortColumn !== 'reqNo'">
                                        <img src="assets/images/sortDown.svg" class="img-style" >
                                        <img src="assets/images/sortDown.svg" class="sortUp" >
                                      </span>
                                      <span *ngIf="responseHeader  && responseHeader.sortColumn && responseHeader.sortColumn !== undefined && responseHeader.sortColumn === 'reqNo'">
                                        <img src="assets/images/sortDown.svg"
                                          *ngIf="responseHeader && responseHeader.sortOrder !== undefined && responseHeader.sortOrder === 'desc'" class="img-style">
                                        <img src="assets/images/sortDown.svg"
                                          *ngIf="responseHeader && responseHeader.sortOrder !== undefined && responseHeader.sortOrder === 'asc'"
                                          class="sortUpAscending">
                                      </span>
                                </div>
                            </th>
                            <td mat-cell *matCellDef="let element;let i = index" >
                                {{element.SRNumber}}
                            </td>
                        </ng-container>
                        <ng-container matColumnDef="serviceTyp">
                            <th mat-header-cell *matHeaderCellDef (click)="sortColumn('serviceTyp')">
                                <div class="position_rel" translate>LBL_SERVICE_TYPE
                                    <span *ngIf="responseHeader && responseHeader.sortColumn !== undefined && responseHeader.sortColumn !== 'serviceTyp'">
                                        <img src="assets/images/sortDown.svg" class="img-style" >
                                        <img src="assets/images/sortDown.svg" class="sortUp" >
                                      </span>
                                      <span *ngIf="responseHeader && responseHeader.sortColumn !== undefined && responseHeader.sortColumn === 'serviceTyp'">
                                        <img src="assets/images/sortDown.svg"
                                          *ngIf="responseHeader && responseHeader.sortOrder !== undefined && responseHeader.sortOrder === 'desc'" class="img-style">
                                        <img src="assets/images/sortDown.svg"
                                          *ngIf="responseHeader && responseHeader.sortOrder !== undefined && responseHeader.sortOrder === 'asc'"
                                          class="sortUpAscending">
                                      </span>
                                </div>
                            </th>
                            <td mat-cell *matCellDef="let element;let i = index" >
                                {{element.SRService}}
                            </td>
                        </ng-container>
                        <ng-container matColumnDef="reqStatus">
                            <th mat-header-cell *matHeaderCellDef (click)="sortColumn('reqStatus')">
                                <div class="position_rel" translate>LBL_REQUEST_STATUS
                                    <span *ngIf="responseHeader && responseHeader.sortColumn !== undefined && responseHeader.sortColumn !== 'reqStatus'">
                                        <img src="assets/images/sortDown.svg" class="img-style" >
                                        <img src="assets/images/sortDown.svg" class="sortUp" >
                                      </span>
                                      <span *ngIf="responseHeader && responseHeader.sortColumn !== undefined && responseHeader.sortColumn === 'reqStatus'">
                                        <img src="assets/images/sortDown.svg"
                                          *ngIf="responseHeader && responseHeader.sortOrder !== undefined && responseHeader.sortOrder === 'desc'" class="img-style">
                                        <img src="assets/images/sortDown.svg"
                                          *ngIf="responseHeader && responseHeader.sortOrder !== undefined && responseHeader.sortOrder === 'asc'"
                                          class="sortUpAscending">
                                      </span>
                                </div>
                            </th>
                            <td mat-cell *matCellDef="let element;let i = index" >
                                {{element.status}}
                            </td>
                        </ng-container>
                        <ng-container matColumnDef="mobNo">
                            <th mat-header-cell *matHeaderCellDef (click)="sortColumn('mobNo')">
                                <div class="position_rel" translate>LBL_MOBILE_NUMBER
                                    <span *ngIf="responseHeader && responseHeader.sortColumn !== undefined && responseHeader.sortColumn !== 'mobNo'">
                                        <img src="assets/images/sortDown.svg" class="img-style" >
                                        <img src="assets/images/sortDown.svg" class="sortUp" >
                                      </span>
                                      <span *ngIf="responseHeader && responseHeader.sortColumn !== undefined && responseHeader.sortColumn === 'mobNo'">
                                        <img src="assets/images/sortDown.svg"
                                          *ngIf="responseHeader && responseHeader.sortOrder !== undefined && responseHeader.sortOrder === 'desc'" class="img-style">
                                        <img src="assets/images/sortDown.svg"
                                          *ngIf="responseHeader && responseHeader.sortOrder !== undefined && responseHeader.sortOrder === 'asc'"
                                          class="sortUpAscending">
                                      </span>
                                </div>
                            </th>
                            <td mat-cell *matCellDef="let element;let i = index" >
                                {{element.mobileNumber}}
                            </td>
                        </ng-container>
                        <ng-container matColumnDef="creationDate">
                            <th mat-header-cell *matHeaderCellDef (click)="sortColumn('creationDate')">
                                <div class="position_rel" translate>LBL_CREATION_DATE
                                    <span *ngIf="responseHeader && responseHeader.sortColumn !== undefined && responseHeader.sortColumn !== 'creationDate'">
                                        <img src="assets/images/sortDown.svg" class="img-style" >
                                        <img src="assets/images/sortDown.svg" class="sortUp" >
                                      </span>
                                      <span *ngIf="responseHeader && responseHeader.sortColumn !== undefined && responseHeader.sortColumn === 'creationDate'">
                                        <img src="assets/images/sortDown.svg"
                                          *ngIf="responseHeader && responseHeader.sortOrder !== undefined && responseHeader.sortOrder === 'desc'" class="img-style">
                                        <img src="assets/images/sortDown.svg"
                                          *ngIf="responseHeader && responseHeader.sortOrder !== undefined && responseHeader.sortOrder === 'asc'"
                                          class="sortUpAscending">
                                      </span>
                                </div>
                            </th>
                            <td mat-cell *matCellDef="let element;let i = index" >
                                {{element.createdDate}}
                            </td>
                        </ng-container>
                        <ng-container matColumnDef="closureDate">
                            <th mat-header-cell *matHeaderCellDef (click)="sortColumn('closureDate')">
                                <div class="position_rel" translate>LBL_CLOSURE_DATE
                                    <span *ngIf="responseHeader && responseHeader.sortColumn !== undefined && responseHeader.sortColumn !== 'closureDate'">
                                        <img src="assets/images/sortDown.svg" class="img-style" >
                                        <img src="assets/images/sortDown.svg" class="sortUp" >
                                      </span>
                                      <span *ngIf="responseHeader && responseHeader.sortColumn !== undefined && responseHeader.sortColumn === 'closureDate'">
                                        <img src="assets/images/sortDown.svg"
                                          *ngIf="responseHeader && responseHeader.sortOrder !== undefined && responseHeader.sortOrder === 'desc'" class="img-style">
                                        <img src="assets/images/sortDown.svg"
                                          *ngIf="responseHeader && responseHeader.sortOrder !== undefined && responseHeader.sortOrder === 'asc'"
                                          class="sortUpAscending">
                                      </span>
                                </div>
                            </th>
                            <td mat-cell *matCellDef="let element;let i = index" >
                                {{element.closedDate}}
                            </td>
                        </ng-container>
                        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                        <tr mat-row *matRowDef="let row; columns: displayedColumns;" (click)="redirectToDetails(row)"></tr>
                    </table>

                    
<div *ngIf="dataSourceToPass?.filteredData?.length === 0 || (dataSourceLength === 0)">
    <app-no-record-found [noRecordFoundInfo]="noRecordFoundObject"></app-no-record-found>
</div>
<div [hidden]="dataSourceToPass?.filteredData?.length === 0 || (dataSourceLength === 0)">
                    <app-pagination #paginator *ngIf="!noRecordFlag || (dataSourceLength !== 0)" class="mTop_35 actionHide" [dataSourceLength]="dataSourceLength"
                    [currentRecord]="'Complaints'" [totalRecords]="totalRecords" (onPaginationChange)="paginationChangeClick($event)">
                  </app-pagination>
                </div>
                </div>
            </div>
        </div>
    </div>
</div>
<app-ajax-loader [hidden]="isLoadingCompelete"></app-ajax-loader>